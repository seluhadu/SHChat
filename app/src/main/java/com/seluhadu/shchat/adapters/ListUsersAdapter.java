package com.seluhadu.shchat.adapters;import android.content.Context;import androidx.annotation.NonNull;import androidx.recyclerview.widget.RecyclerView;import android.view.LayoutInflater;import android.view.MotionEvent;import android.view.View;import android.view.ViewGroup;import android.widget.TextView;import com.bumptech.glide.Glide;import com.seluhadu.shchat.R;import com.seluhadu.shchat.models.User;import java.util.List;import de.hdodenhof.circleimageview.CircleImageView;public class ListUsersAdapter extends RecyclerView.Adapter<ListUsersAdapter.ItemHolder> {    private List<User> mListUserChat;    private Context mContext;    private OnItemClickListener onItemClickListener;    public ListUsersAdapter(List<User> mListUserChat, Context mContext) {        this.mListUserChat = mListUserChat;        this.mContext = mContext;    }    @NonNull    @Override    public ItemHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {        View rootView = LayoutInflater.from(mContext).inflate(R.layout.item_list_chat_user, parent, false);        return new ItemHolder(rootView);    }    @Override    public void onBindViewHolder(@NonNull ItemHolder holder, int position) {        User user = mListUserChat.get(position);        holder.mUserName.setText(user.getUserName());        Glide.with(mContext).load(user.getUserProfile()).into(holder.iUserProfile);    }    @Override    public int getItemCount() {        return mListUserChat == null ? 0 : mListUserChat.size();    }    class ItemHolder extends RecyclerView.ViewHolder {        CircleImageView iUserProfile;        TextView mUserName;        TextView mMessage;        TextView mDate;        ItemHolder(final View itemView) {            super(itemView);            mUserName = itemView.findViewById(R.id.user_name);            mMessage = itemView.findViewById(R.id.message_time);            mDate = itemView.findViewById(R.id.last_message);            iUserProfile = itemView.findViewById(R.id.user_profile);            itemView.setOnClickListener(v -> {                if (onItemClickListener != null) {                    onItemClickListener.OnItemClick(mListUserChat.get(getAdapterPosition()), getAdapterPosition());                }            });            itemView.setOnTouchListener((v, event) -> {                switch (event.getAction()) {                    case MotionEvent.ACTION_DOWN:                        v.animate().scaleXBy(-0.03f).setDuration(50).start();                        v.animate().scaleYBy(-0.03f).setDuration(50).start();                        return false;                    case MotionEvent.ACTION_UP:                        itemView.performClick();                        v.animate().cancel();                        v.animate().scaleX(1f).setDuration(100).start();                        v.animate().scaleY(1f).setDuration(100).start();                        return false;                    case MotionEvent.ACTION_CANCEL:                        v.animate().cancel();                        v.animate().scaleX(1f).setDuration(100).start();                        v.animate().scaleY(1f).setDuration(100).start();                        return false;                }                return false;            });        }    }    public interface OnItemClickListener {        void OnItemClick(User user, int position);    }    public void setOnItemClickListener(OnItemClickListener onItemClickListener) {        this.onItemClickListener = onItemClickListener;    }}