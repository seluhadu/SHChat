package com.seluhadu.shchat;import android.content.Context;import android.support.annotation.Nullable;import android.support.v7.widget.RecyclerView;import android.util.AttributeSet;import android.view.View;public class EmptyRecyclerView extends RecyclerView {    private View emptyView;    private AdapterDataObserver dataObserver = new AdapterDataObserver() {        @Override        public void onChanged() {            super.onChanged();            updateEmptyView();        }    };    public EmptyRecyclerView(Context context) {        super(context);    }    public EmptyRecyclerView(Context context, @Nullable AttributeSet attrs) {        super(context, attrs);    }    public EmptyRecyclerView(Context context, @Nullable AttributeSet attrs, int defStyle) {        super(context, attrs, defStyle);    }    @Override    public void setAdapter(Adapter adapter) {        if (getAdapter() != null) {            getAdapter().unregisterAdapterDataObserver(dataObserver);        }        if (adapter != null) {            adapter.registerAdapterDataObserver(dataObserver);        }        super.setAdapter(adapter);        updateEmptyView();    }    public void setEmptyView(View emptyView) {        this.emptyView = emptyView;    }    private void updateEmptyView() {        if (emptyView != null && getAdapter() != null) {            boolean showEmptyView = getAdapter().getItemCount() == 0;            emptyView.setVisibility(showEmptyView ? VISIBLE : GONE);            setVisibility(showEmptyView ? GONE : VISIBLE);        }    }}